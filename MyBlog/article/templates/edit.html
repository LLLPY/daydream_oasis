{% extends 'common.html' %}
{% load static %}
{% block title %}åšå®¢ç¼–è¾‘{% endblock %}
{% block head %}

    <link rel="stylesheet" href="{% static 'css/vditor@3.9.1.css' %}"/>
    <script src="{% static 'js/vditor@3.9.1.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/edit.css' %}">
    {#    <script src="https://unpkg.com/vditor@3.9.1/dist/method.min.js"></script>#}
    <style>
        #vditor {
            z-index: 10000000000 !important;
        }
    </style>
{% endblock %}
{% block content %}

    <div id="article">
        <div id="article-info" class="row m shadow">
            <div class="info-item col-1 text-center">
                <a href="../" class="text-decoration-none">&nbsp;0318-SPACE</a>
            </div>

            <div class="info-item col-3 row">
                <span class="item-title text-center col-2"> <strong>æ ‡é¢˜</strong> </span>
                <div class="input-box col-10 h-100">
                    <input v-model="title" type="text" placeholder="è¯·è¾“å…¥æ ‡é¢˜" class="w-100 h-100 shadow-sm" maxlength="30">
                </div>
            </div>
            <div class="info-item col-1 row" id="avatar">
                <span class="item-title text-center col-4"> <strong>å°é¢</strong> </span>
                <div id="avatar-input-box" @mouseenter="show_avatar" @mouseleave="hide_avatar"
                     class="col-8 h-100 text-center">
                    <svg class="icon h-100" aria-hidden="true" v-html="avatar_icon">
                    </svg>
                    <span v-if="delete_button_show" class="iconfont icon-guanbi" @click="delete_avatar"></span>
                    <img class="border rounded" v-if="avatar_show" id="avatar-preview" :src="'../'+avatar_url">
                    <input @change="upload_file" class="h-100" type="file" accept=".png,.jpg,.jpeg,.giff" name="avatar">
                </div>
            </div>

            {#            <div class="info-item col-2 row">#}
            {#                <span class="item-title text-center col-2"><strong>ä¸“æ </strong> </span>#}
            {#                <div class="input-box col-10">#}
            {#                    <input @keyup="recommend('section')" v-model="section" type="text" placeholder="è¯·è¾“å…¥ä¸“æ "#}
            {#                           class="w-100 h-100 shadow-sm"#}
            {#                           maxlength="10">#}
            {#                    <ul class="w-100 bg-light">#}
            {#                        <li v-for="(section_recommend,section_index) in section_recommend_list"#}
            {#                            @click="choice_section(section_index)"#}
            {#                            :key="index" class="w-100 p-2">{[section_recommend]}#}
            {#                        </li>#}
            {#                    </ul>#}
            {#                </div>#}
            {##}
            {##}
            {#            </div>#}

            <div class="info-item col-2 row">
                <span class="item-title text-center col-2 h-100"><strong>åˆ†ç±»</strong> </span>
                <div class="input-box col-10 h-100">
                    <input @keyup="recommend('category')" @blur="_blur" v-model="category" type="text"
                           placeholder="è¯·è¾“å…¥åˆ†ç±»"
                           class="w-100 h-100 shadow-sm"
                           maxlength="8">
                    <ul class="w-100 bg-light">
                        <li v-for="(category_recommend,category_index) in category_recommend_list"
                            @click="choice_category(category_index)"
                            class="w-100 p-2">{[category_recommend]}
                        </li>

                    </ul>
                </div>

            </div>

            <div class="info-item col-4 row">
                <span class="item-title text-center col-2"><strong>æ ‡ç­¾</strong> </span>

                <div id="tag-set" class="h-100 col-3" style="padding: 0!important;">
                    <span v-for="(chosen_tag,tag_index) in chosen_tag_list" class="rounded tag-box">
                        <span class="chosen_tag">{[chosen_tag]}</span>
                        <span class="iconfont icon-guanbi" @click="delete_tag(tag_index)"></span>
                    </span>
                </div>
                <div class="input-box col-7">
                    <input @keyup="recommend('tag')" @keyup.13="add_tag" @blur="_blur" v-model="tag" type="text"
                           placeholder="è¯·è¾“å…¥æ ‡ç­¾"
                           class="w-100 h-100 shadow-sm"
                           maxlength="5">
                    <ul class="w-100 bg-light">
                        <li v-for="(tag_recommend,tag_index) in tag_recommend_list" @click="choice_tag(tag_index)"
                            :key="tag_index" class="w-100 p-2">{[tag_recommend]}
                        </li>

                    </ul>
                </div>

            </div>


            <div class="info-item col-1 text-center">

                <div id="submit" style="width: 80%;margin-left: 10%;" class="h-100 text-centershadow-sm alert-primary"
                     @click="submit">
                    <span><strong>å‘&nbsp;&nbsp;å¸ƒ</strong> </span></div>
            </div>

        </div>


        <div id="article-content" class="shadow">
            <div id="vditor"></div>

        </div>

    </div>


{% endblock %}
{% block script %}


    <script>
        let article_info_vm = new Vue({
            el: '#article-info',
            delimiters: ["{[", "]}"],
            data: {
                title: '{{ blog.title|safe }}',
                category: '{{ blog.category|safe }}',
                tag: '',
                section: '',
                avatar_url: '{{ blog.avatar|safe }}',
                avatar_icon: '<use xlink:href="#icon-70BasicIcons-all-35"></use>',
                delete_button_show: 0, {% comment %}åˆ é™¤å°é¢çš„æŒ‰é’®{% endcomment %}
                avatar_show: 0,
                category_recommend_list: [],
                section_recommend_list: [],
                tag_recommend_list: [],
                chosen_tag_list: {{ tag_list|safe }},
            },
            computed: {},
            methods: {
                recommend(_type) {
                    let keyword = '';
                    if (_type === 'category') {
                        keyword = this.category;
                    } else if (_type === 'section') {
                        keyword = this.section;
                    } else {
                        keyword = this.tag;
                    }
                    $ajax('get', `../../article/api/${_type}/`,
                        {
                            'keyword': keyword,
                        },
                        function (msg) {
                            let data = JSON.parse(msg);
                            if (data['code'] !== '200') {
                                toast_show(data['msg']);
                                return
                            }
                            if (_type === 'category') {
                                article_info_vm.category_recommend_list = data['data']['category_list']
                            } else if (_type === 'section') {
                                article_info_vm.section_recommend_list = data['data']['section_list']
                            } else {
                                article_info_vm.tag_recommend_list = data['data']['tag_list']
                            }

                        },
                        function (msg) {
                            toast_show(JSON.parse(msg)['msg']);
                        }
                    )
                },
                {% comment %}é€‰æ‹©ä¸“æ {% endcomment %}
                choice_section(index) {
                    this.section = this.section_recommend_list[index];
                    this.section_recommend_list = []

                },
                {% comment %}é€‰æ‹©åˆ†ç±»{% endcomment %}
                choice_category(index) {
                    this.category = this.category_recommend_list[index];
                    this.category_recommend_list = []

                },
                {% comment %}é€‰æ‹©æ ‡ç­¾å¹¶æ·»åŠ {% endcomment %}
                choice_tag(index) {
                    if (this.chosen_tag_list.length >= 3) {
                        toast_show('æœ€å¤šåªèƒ½é€‰3ä¸ªæ ‡ç­¾!');
                    } else {
                        this.chosen_tag_list.push(this.tag_recommend_list[index]);
                    }
                    this.tag_recommend_list = []

                },
                {% comment %}å¤±å»ç„¦ç‚¹{% endcomment %}
                _blur() {
                    {% comment %}ç­‰å¾…é€‰æ‹©å®Œæˆåå†æ¸…ç©º{% endcomment %}
                    setTimeout(function () {
                        article_info_vm.category_recommend_list = []
                        article_info_vm.section_recommend_list = []
                        article_info_vm.tag_recommend_list = []
                    }, 500);

                },

                {% comment %}å›è½¦æ·»åŠ æ ‡ç­¾{% endcomment %}
                add_tag() {
                    if (this.tag.length === 0) {
                        return
                    }
                    if (this.chosen_tag_list.length >= 3) {
                        toast_show('æœ€å¤šåªèƒ½é€‰3ä¸ªæ ‡ç­¾!')
                    } else {
                        this.chosen_tag_list.push(this.tag);
                        this.tag = ''
                    }

                },
                {% comment %}åˆ é™¤æ ‡ç­¾{% endcomment %}
                delete_tag(index) {
                    this.chosen_tag_list.splice(index, 1);
                },
                {% comment %}ä¸Šä¼ å›¾ç‰‡(å°é¢){% endcomment %}
                upload_file(e) {
                    let max_size = 2 * 1024 * 1024;
                    {% comment %}2M{% endcomment %}
                    let file = e.target.files;
                    if (file[0].size > max_size) {
                        toast_show('æœ€å¤§ä»…æ”¯æŒ2Mçš„å›¾ç‰‡!');
                        e.target.value = ''
                        return
                    }

                    let form_data = new FormData();
                    form_data.append("file", file[0], file[0].name);


                    $.ajax({
                        url: '../../file/upload',
                        type: 'post',
                        data: form_data,
                        contentType: false,
                        processData: false,
                        success: function (data) {
                            if (data['code'] !== '200') {
                                toast_show(data['msg'])
                                return
                            }
                            article_info_vm.avatar_icon = '<use xlink:href="#icon-tupian_huaban1"></use>'
                            article_info_vm.avatar_url = data['data']['url']
                            article_info_vm.delete_button_show = 1

                        },
                        error: function (data) {
                        },
                    })


                },
                {% comment %}åˆ é™¤å°é¢{% endcomment %}
                delete_avatar() {
                    $('#avatar-input-box input').val('')
                    article_info_vm.delete_button_show = 0
                    article_info_vm.avatar_show = 0
                    article_info_vm.avatar_icon = '<use xlink:href="#icon-70BasicIcons-all-35"></use>'
                    article_info_vm.avatar_url = ''

                },
                show_avatar() {
                    {% comment %}å½“åˆ é™¤æŒ‰é’®æ˜¾ç¤ºæ—¶ï¼Œè¯´æ˜ä¸Šä¼ äº†å°é¢{% endcomment %}
                    if (article_info_vm.delete_button_show === 1) {
                        {% comment %}æ ¹æ®å›¾ç‰‡çš„å¤§å°è®¾ç½®bottomçš„å€¼{% endcomment %}
                        let avatar_preview = $('#avatar-preview')
                        avatar_preview.css('bottom', '-' + avatar_preview.css('height'))
                        article_info_vm.avatar_show = 1
                        $('#avatar-input-box img').fadeIn(1000);
                    }

                },
                hide_avatar() {
                    $('#avatar-input-box img').fadeOut(1000);
                    {#article_info_vm.avatar_show = 0#}
                },
                submit() {

                    {% comment %}å†…å®¹æ£€æŸ¥{% endcomment %}
                    if (this.title.length === 0 || this.title.length > 30) {
                        toast_show('æ ‡é¢˜çš„é•¿åº¦èŒƒå›´æ˜¯0~30!')
                        return
                    }

                    if (this.category.length === 0 || this.category.length > 8) {
                        toast_show('åˆ†ç±»çš„é•¿åº¦èŒƒå›´æ˜¯0~8!')
                        return;
                    }

                    let content = vditor.getHTML();
                    {#let content = vditor.getValue();#}
                    if (content.length === 0) {
                        toast_show('å†…å®¹ä¸èƒ½ä¸ºç©º!')
                        return;
                    }
                    console.log(content);

                    {% comment %}æäº¤{% endcomment %}
                    $.ajax({
                        url: '../../article/api/article/',
                        type: 'post',
                        data: JSON.stringify({
                            'user': '{{ user_id }}',
                            'blog_id': '{{ blog_id }}',
                            'title': this.title,
                            'category': this.category,
                            'tag_list': this.chosen_tag_list,
                            'avatar': this.avatar_url,
                            'content': content
                        }),
                        contentType: 'application/json',
                        processData: true,
                        success: function (data) {
                            if (data['code'] !== '200') {
                                toast_show(data['msg'])
                            }
                            vditor.clearCache();
                            location.assign(`../../article/${data['data']['id']}`)
                        },
                        error: function (data) {
                            toast_show(data['msg'])
                        }
                    })


                }
            }
        })

        if ({{ avatar_show }}) {
            article_info_vm.delete_button_show = 1
            article_info_vm.avatar_icon = '<use xlink:href="#icon-tupian_huaban1"></use>'
        }

    </script>


    <script>
        //æŒ‚è½½åˆ°å…¨å±€
        window.vditor = new Vditor("vditor", {

            // è·å–ç„¦ç‚¹æ–¹æ³•
            focus(md) {
                document.onkeydown = function () {
                    // åˆ¤æ–­ Ctrl+S
                    if (event.ctrlKey == true && event.keyCode == 83) {
                        // æˆ–è€… return false;
                        event.preventDefault();
                    }
                }
            },
            // è¿™ä¸ªæ˜¯è‡ªå®šä¹‰å¯¼èˆªæ 
            toolbar: [
                'emoji',
                'headings',
                'bold',
                'italic',
                'strike',
                '|',
                'line',
                'quote',
                {#'list',#}
                {#'ordered-list',#}
                'check',
                {#'outdent',#}
                {#'indent',#}
                'code',
                'inline-code',
                'insert-after',
                'insert-before',
                'undo',
                'redo',
                'upload',
                'link',
                'table',
                'edit-mode',
                'both',
                'preview',
                'fullscreen',
                'outline',
                'code-theme',
                'content-theme',
                'export',
                'devtools',
                {#'info',#}
                'help',
                'br',
                //æ–°å¢è‡ªå®šä¹‰æŒ‰é’®
                {
                    hotkey: 'âŒ˜-â‡§-S',
                    name: 'sponsor',
                    tipPosition: 's',
                    tip: 'ç‚¹æˆ‘æœ‰æƒŠå–œï¼',
                    className: 'right',
                    icon: '<svg t="1589994565028" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2808" width="32" height="32"><path d="M506.6 423.6m-29.8 0a29.8 29.8 0 1 0 59.6 0 29.8 29.8 0 1 0-59.6 0Z" fill="#0F0F0F" p-id="2809"></path><path d="M717.8 114.5c-83.5 0-158.4 65.4-211.2 122-52.7-56.6-127.7-122-211.2-122-159.5 0-273.9 129.3-273.9 288.9C21.5 562.9 429.3 913 506.6 913s485.1-350.1 485.1-509.7c0.1-159.5-114.4-288.8-273.9-288.8z" fill="#FAFCFB" p-id="2810"></path><path d="M506.6 926c-22 0-61-20.1-116-59.6-51.5-37-109.9-86.4-164.6-139-65.4-63-217.5-220.6-217.5-324 0-81.4 28.6-157.1 80.6-213.1 53.2-57.2 126.4-88.8 206.3-88.8 40 0 81.8 14.1 124.2 41.9 28.1 18.4 56.6 42.8 86.9 74.2 30.3-31.5 58.9-55.8 86.9-74.2 42.5-27.8 84.3-41.9 124.2-41.9 79.9 0 153.2 31.5 206.3 88.8 52 56 80.6 131.7 80.6 213.1 0 103.4-152.1 261-217.5 324-54.6 52.6-113.1 102-164.6 139-54.8 39.5-93.8 59.6-115.8 59.6zM295.4 127.5c-72.6 0-139.1 28.6-187.3 80.4-47.5 51.2-73.7 120.6-73.7 195.4 0 64.8 78.3 178.9 209.6 305.3 53.8 51.8 111.2 100.3 161.7 136.6 56.1 40.4 88.9 54.8 100.9 54.8s44.7-14.4 100.9-54.8c50.5-36.3 108-84.9 161.7-136.6 131.2-126.4 209.6-240.5 209.6-305.3 0-74.9-26.2-144.2-73.7-195.4-48.2-51.9-114.7-80.4-187.3-80.4-61.8 0-127.8 38.5-201.7 117.9-2.5 2.6-5.9 4.1-9.5 4.1s-7.1-1.5-9.5-4.1C423.2 166 357.2 127.5 295.4 127.5z" fill="#141414" p-id="2811"></path><path d="M353.9 415.6m-33.8 0a33.8 33.8 0 1 0 67.6 0 33.8 33.8 0 1 0-67.6 0Z" fill="#0F0F0F" p-id="2812"></path><path d="M659.3 415.6m-33.8 0a33.8 33.8 0 1 0 67.6 0 33.8 33.8 0 1 0-67.6 0Z" fill="#0F0F0F" p-id="2813"></path><path d="M411.6 538.5c0 52.3 42.8 95 95 95 52.3 0 95-42.8 95-95v-31.7h-190v31.7z" fill="#5B5143" p-id="2814"></path><path d="M506.6 646.5c-59.6 0-108-48.5-108-108v-31.7c0-7.2 5.8-13 13-13h190.1c7.2 0 13 5.8 13 13v31.7c0 59.5-48.5 108-108.1 108z m-82-126.7v18.7c0 45.2 36.8 82 82 82s82-36.8 82-82v-18.7h-164z" fill="#141414" p-id="2815"></path><path d="M450.4 578.9a54.7 27.5 0 1 0 109.4 0 54.7 27.5 0 1 0-109.4 0Z" fill="#EA64F9" p-id="2816"></path><path d="M256 502.7a32.1 27.5 0 1 0 64.2 0 32.1 27.5 0 1 0-64.2 0Z" fill="#EFAFF9" p-id="2817"></path><path d="M703.3 502.7a32.1 27.5 0 1 0 64.2 0 32.1 27.5 0 1 0-64.2 0Z" fill="#EFAFF9" p-id="2818"></path></svg>',
                    click() {
                        toast_show('helloï¼')
                    }
                }
            ],
            //ç¼–è¾‘æ¨¡å¼---wysiwyg:æ‰€è§å³æ‰€å¾— ir:åŠæ—¶æ¸²æŸ“ sv:åˆ†å±é¢„è§ˆ
            mode: 'ir',
            preview: {
                {#mode: "both",#}
                markdown: {
                    toc: true, //ç›®å½•
                },
                //ä»£ç é«˜äº®
                hljs: {
                    lineNumber: true,
                    // style: "vs", //ä¸»é¢˜æ ·å¼
                },
                //æ•°å­¦å…¬å¼çš„æ¸²æŸ“
                math: {
                    engine: "KaTeX", // KaTeX MathJax
                }
            },
            //å›¾æ ‡é…ç½®
            icon: 'ant', // ant material

            //ç¼–è¾‘å™¨é«˜åº¦ ä¸é…ç½®å°±æ˜¯è‡ªé€‚åº” æ”¯æŒæ•°å­—å’Œç™¾åˆ†æ¯”  "minHeight": 500
            // height: window.innerHeight,
            // height: screen.height,
            minHeight: 650,
            {#height: '100%',#}
            //è¯­è¨€ ä¸­æ–‡ï¼šzh_CN è‹±æ–‡ï¼šen_US éŸ©æ–‡ï¼ško_KR æ—¥æ–‡ï¼›ja_JP
            lang: 'zh_CN',

            //å®ç”¨å°ç‰¹æ€§ æŒ‰ä¸‹tabæ–°å¢å››ä¸ªç©ºæ ¼ placeholderå†…å®¹ä¸ºç©ºçš„æç¤º å…¨å±å±‚çº§
            tab: '    ',
            placeholder: 'å¼€å§‹ä½ çš„åˆ›ä½œå§ï¼ğŸ›ğŸ›ğŸ›',
            value: `{{  blog.content|safe }}`,
            {#previewElement: `{{  blog.content|safe }}`,#}

            fullscreen: {
                index: 9999,
            },

            //æ–‡ä»¶ä¸Šä¼ 
            upload: {
                accept: '', {% comment %}æ”¯æŒæ‰€æœ‰æ–‡ä»¶{% endcomment %}
                max: 100 * 1024 * 1024,
                url: '../../file/upload',
                linkToImgUrl: '/api/upload/fetch',
                filename(name) {
                    return name.replace(/[^(a-zA-Z0-9\u4e00-\u9fa5\.)]/g, '').replace(/[\?\\/:|<>\*\[\]\(\)\$%\{\}@~]/g, '').replace('/\\s/g', '')
                },
                success(editor, msg) {
                    let data = JSON.parse(msg)
                    let url = data['data']['url'];
                    let filename = data['data']['filename'];
                    let content_type = data['data']['content_type'];
                    let succFileText = '';
                    let content_normal = '', content_wysiwyg = '';
                    {% comment %}æ–‡ä»¶ç±»å‹çš„åŒºåˆ†{% endcomment %}
                    if (content_type === 'image') {
                        content_normal += `![${filename}](../../${url})`;
                        content_wysiwyg += `<img alt='${filename}' src="../../${url}" class="mw-100">`;
                    } else if (content_type === 'audio') {
                        content_wysiwyg += `<audio controls src="../../${url}"></audio>`;
                        content_normal = content_wysiwyg;
                    } else if (content_type === 'video') {
                        content_wysiwyg += `<video controls src="../../${url}"></video>`;
                        content_normal = content_wysiwyg;
                    } else {
                        content_wysiwyg += `<a  href="../../${url}">${filename}</a>`;
                        content_normal = content_wysiwyg;
                    }
                    if (vditor && vditor.vditor.currentMode === "wysiwyg") { {% comment %}æ‰€è§å³æ‰€å¾—æ¨¡å¼{% endcomment %}
                        succFileText = content_wysiwyg;
                    } else {
                        succFileText = content_normal;
                    }
                    //å°†å›¾ç‰‡è·¯å¾„å†™å…¥æ–‡æœ¬
                    vditor.insertValue(succFileText)
                    {#document.execCommand("insertHTML", true, succFileText);#}
                },
                error() {
                    toast_show('ä¸Šä¼ å¤±è´¥!');
                }

            },
            hint: {
                //@ï¼Œ#è¯é¢˜ç­‰å…³é”®å­—æ‰©å±•
                extend: [
                    {
                        key: '@',
                        hint: (key) => {
                            let user_list = [];
                            if ('vanessa'.indexOf(key.toLocaleLowerCase()) > -1) {
                                let msg = $ajax('get', '../../user/api/user/',
                                    {
                                        'keyword': key,
                                    },
                                    null, null,
                                    false)
                                let data = JSON.parse(msg);
                                if (data['code'] !== '200') {
                                    toast_show(data['msg']);
                                }
                                let res_user_list = data['data']['user_list'];
                                for (let i = 0; i < res_user_list.length; i++) {
                                    let value = `@<a href="#${res_user_list[i]['id']}">${res_user_list[i]['username']}</a>`;
                                    let html = `@<a href="#${res_user_list[i]['id']}"><img src="../..${res_user_list[i]['avatar']}" style="width: 32px;height: 32px;" class="rounded"/> ${res_user_list[i]['username']}</a>`;
                                    user_list.push({
                                        value: value, {% comment %}è¾“å…¥åˆ°æ–‡ç« çš„å†…å®¹{% endcomment %}
                                        html: html, {% comment %}åˆ—è¡¨æ˜¾ç¤ºçš„å†…å®¹{% endcomment %}

                                    })
                                }
                                return user_list

                            }
                        },
                    },
                ],

                //è‡ªå®šä¹‰è¡¨æƒ…
                emoji: {
                    'å˜¿å˜¿': 'ğŸ˜€',
                    'å“ˆå“ˆ': 'ğŸ˜ƒ',
                    'å¤§ç¬‘': 'ğŸ˜„',
                    'å˜»å˜»': 'ğŸ˜',
                    'æ–œçœ¼ç¬‘': 'ğŸ˜†',
                    'è‹¦ç¬‘': 'ğŸ˜…',
                    'ç¬‘å“­äº†': 'ğŸ˜‚',
                    'ç¬‘å¾—æ»¡åœ°æ‰“æ»š': 'ğŸ¤£',
                    'å¾®ç¬‘': 'â˜º',
                    'ç¾æ¶©å¾®ç¬‘': 'ğŸ˜Š',
                    'å¾®ç¬‘å¤©ä½¿': 'ğŸ˜‡',
                    'å‘µå‘µ': 'ğŸ™‚',
                    'å€’è„¸': 'ğŸ™ƒ',
                    'çœ¨çœ¼': 'ğŸ˜‰',
                    'æ¾äº†å£æ°”': 'ğŸ˜Œ',
                    'èŠ±ç—´': 'ğŸ˜',
                    'å–œç¬‘é¢œå¼€': 'ğŸ¥°',
                    'é£å»': 'ğŸ˜˜',
                    'äº²äº²': 'ğŸ˜—',
                    'å¾®ç¬‘äº²äº²': 'ğŸ˜™',
                    'ç¾æ¶©äº²äº²': 'ğŸ˜š',
                    'å¥½åƒ': 'ğŸ˜‹',
                    'åèˆŒ': 'ğŸ˜›',
                    'çœ¯çœ¼åèˆŒ': 'ğŸ˜',
                    'å•çœ¼åèˆŒ': 'ğŸ˜œ',
                    'æ»‘ç¨½': 'ğŸ¤ª',
                    'æŒ‘çœ‰': 'ğŸ¤¨',
                    'å¸¦å•ç‰‡çœ¼é•œçš„è„¸': 'ğŸ§',
                    'ä¹¦å‘†å­è„¸': 'ğŸ¤“',
                    'å¢¨é•œç¬‘è„¸': 'ğŸ˜',
                    'å¥½å´‡æ‹œå“¦': 'ğŸ¤©',
                    'èšä¼šç¬‘è„¸': 'ğŸ¥³',
                    'å¾—æ„': 'ğŸ˜',
                    'ä¸é«˜å…´': 'ğŸ˜’',
                    'å¤±æœ›': 'ğŸ˜',
                    'æ²‰æ€': 'ğŸ˜”',
                    'æ‹…å¿ƒ': 'ğŸ˜Ÿ',
                    'å›°æ‰°': 'ğŸ˜•',
                    'å¾®å¾®ä¸æ»¡': 'ğŸ™',
                    'ä¸æ»¡': 'â˜¹',
                    'ç—›è‹¦': 'ğŸ˜£',
                    'å›°æƒ‘': 'ğŸ˜–',
                    'ç´¯': 'ğŸ˜«',
                    'ç´¯æ­»äº†': 'ğŸ˜©',
                    'æ³æ±‚çš„è„¸': 'ğŸ¥º',
                    'å“­': 'ğŸ˜¢',
                    'æ”¾å£°å¤§å“­': 'ğŸ˜­',
                    'å‚²æ…¢': 'ğŸ˜¤',
                    'ç”Ÿæ°”': 'ğŸ˜ ',
                    'æ€’ç«ä¸­çƒ§': 'ğŸ˜¡',
                    'å˜´ä¸Šæœ‰ç¬¦å·çš„è„¸': 'ğŸ¤¬',
                    'çˆ†ç‚¸å¤´': 'ğŸ¤¯',
                    'è„¸çº¢': 'ğŸ˜³',
                    'è„¸å‘çƒ§': 'ğŸ¥µ',
                    'å†·è„¸': 'ğŸ¥¶',
                    'å“æ­»äº†': 'ğŸ˜±',
                    'å®³æ€•': 'ğŸ˜¨',
                    'å†·æ±—': 'ğŸ˜°',
                    'å¤±æœ›ä½†å¦‚é‡Šé‡è´Ÿ': 'ğŸ˜¥',
                    'æ±—': 'ğŸ˜“',
                    'æŠ±æŠ±': 'ğŸ¤—',
                    'æƒ³ä¸€æƒ³': 'ğŸ¤”',
                    'ä¸è¯´': 'ğŸ¤­',
                    'å®‰é™çš„è„¸': 'ğŸ¤«',
                    'è¯´è°': 'ğŸ¤¥',
                    'æ²‰é»˜': 'ğŸ˜¶',
                    'å†·æ¼ ': 'ğŸ˜',
                    'æ— è¯­': 'ğŸ˜‘',
                    'é¾‡ç‰™å’§å˜´': 'ğŸ˜¬',
                    'ç¿»ç™½çœ¼': 'ğŸ™„',
                    'ç¼„é»˜': 'ğŸ˜¯',
                    'å•Š': 'ğŸ˜¦',
                    'æåº¦ç—›è‹¦': 'ğŸ˜§',
                    'åƒæƒŠ': 'ğŸ˜®',
                    'éœ‡æƒŠ': 'ğŸ˜²',
                    'ç¡ç€äº†': 'ğŸ˜´',
                    'æµå£æ°´': 'ğŸ¤¤',
                    'å›°': 'ğŸ˜ª',
                    'æ™•å¤´è½¬å‘': 'ğŸ˜µ',
                    'é—­å˜´': 'ğŸ¤',
                    'å¤´æ˜çœ¼èŠ±': 'ğŸ¥´',
                    'æ¶å¿ƒ': 'ğŸ¤¢',
                    'å‘•å': 'ğŸ¤®',
                    'æ‰“å–·åš': 'ğŸ¤§',
                    'æ„Ÿå†’': 'ğŸ˜·',
                    'å‘çƒ§': 'ğŸ¤’',
                    'å—ä¼¤': 'ğŸ¤•',
                    'å‘è´¢': 'ğŸ¤‘',
                    'ç‰›ä»”å¸½è„¸': 'ğŸ¤ ',
                    'æ¶é­”å¾®ç¬‘': 'ğŸ˜ˆ',
                    'ç”Ÿæ°”çš„æ¶é­”': 'ğŸ‘¿',
                    'é£Ÿäººé­”': 'ğŸ‘¹',
                    'å°å¦–ç²¾': 'ğŸ‘º',
                    'å°ä¸‘è„¸': 'ğŸ¤¡',
                    'å¤§ä¾¿': 'ğŸ’©',
                    'é¬¼': 'ğŸ‘»',
                    'å¤´éª¨': 'ğŸ’€',
                    'éª·é«…': 'â˜ ',
                    'å¤–æ˜Ÿäºº': 'ğŸ‘½',
                    'å¤–æ˜Ÿæ€ªç‰©': 'ğŸ‘¾',
                    'æœºå™¨äºº': 'ğŸ¤–',
                    'å—ç“œç¯': 'ğŸƒ',
                    'å¤§ç¬‘çš„çŒ«': 'ğŸ˜º',
                    'å¾®ç¬‘çš„çŒ«': 'ğŸ˜¸',
                    'ç¬‘å‡ºçœ¼æ³ªçš„çŒ«': 'ğŸ˜¹',
                    'èŠ±ç—´çš„çŒ«': 'ğŸ˜»',
                    'å¥¸ç¬‘çš„çŒ«': 'ğŸ˜¼',
                    'äº²äº²çŒ«': 'ğŸ˜½',
                    'ç–²å€¦çš„çŒ«': 'ğŸ™€',
                    'å“­æ³£çš„çŒ«': 'ğŸ˜¿',
                    'ç”Ÿæ°”çš„çŒ«': 'ğŸ˜¾',
                    'æŒå¿ƒå‘ä¸Šæ‰˜èµ·': 'ğŸ¤²',
                    'å¼ å¼€åŒæ‰‹': 'ğŸ‘',
                    'ä¸¾åŒæ‰‹': 'ğŸ™Œ',
                    'é¼“æŒ': 'ğŸ‘',
                    'æ¡æ‰‹': 'ğŸ¤',
                    'æ‹‡æŒ‡å‘ä¸Š': 'ğŸ‘',
                    'æ‹‡æŒ‡å‘ä¸‹': 'ğŸ‘',
                    'å‡ºæ‹³': 'ğŸ‘Š',
                    'ä¸¾èµ·æ‹³å¤´': 'âœŠ',
                    'æœå·¦çš„æ‹³å¤´': 'ğŸ¤›',
                    'æœå³çš„æ‹³å¤´': 'ğŸ¤œ',
                    'äº¤å‰çš„æ‰‹æŒ‡': 'ğŸ¤',
                    'èƒœåˆ©æ‰‹åŠ¿': 'âœŒ',
                    'çˆ±ä½ çš„æ‰‹åŠ¿': 'ğŸ¤Ÿ',
                    'æ‘‡æ»š': 'ğŸ¤˜',
                    'ok': 'ğŸ‘Œ',
                    'åæ‰‹é£ŸæŒ‡å‘å·¦æŒ‡': 'ğŸ‘ˆ',
                    'åæ‰‹é£ŸæŒ‡å‘å³æŒ‡': 'ğŸ‘‰',
                    'åæ‰‹é£ŸæŒ‡å‘ä¸ŠæŒ‡': 'ğŸ‘†',
                    'åæ‰‹é£ŸæŒ‡å‘ä¸‹æŒ‡': 'ğŸ‘‡',
                    'é£ŸæŒ‡å‘ä¸ŠæŒ‡': 'â˜',
                    'ä¸¾èµ·æ‰‹': 'âœ‹',
                    'ç«‹èµ·çš„æ‰‹èƒŒ': 'ğŸ¤š',
                    'æ‰‹æŒ': 'ğŸ–',
                    'ç“¦è‚¯ä¸¾æ‰‹ç¤¼': 'ğŸ––',
                    'æŒ¥æ‰‹': 'ğŸ‘‹',
                    'ç»™æˆ‘æ‰“ç”µè¯': 'ğŸ¤™',
                    'è‚Œè‚‰': 'ğŸ’ª',
                    'ç«–ä¸­æŒ‡': 'ğŸ–•',
                    'å†™å­—': 'âœ',
                    'åŒæ‰‹åˆå': 'ğŸ™',
                    'è„š': 'ğŸ¦¶',
                    'è…¿': 'ğŸ¦µ',
                    'å”‡è†': 'ğŸ’„',
                    'å”‡å°': 'ğŸ’‹',
                    'å˜´': 'ğŸ‘„',
                    'ç‰™é½¿': 'ğŸ¦·',
                    'èˆŒå¤´': 'ğŸ‘…',
                    'è€³æœµ': 'ğŸ‘‚',
                    'é¼»å­': 'ğŸ‘ƒ',
                    'è„šå°': 'ğŸ‘£',
                    'çœ¼ç›': 'ğŸ‘',
                    'åŒçœ¼': 'ğŸ‘€',
                    'è„‘': 'ğŸ§ ',
                    'è¯´è¯': 'ğŸ—£',
                    'äººåƒ': 'ğŸ‘¤',
                    'åŒäººåƒ': 'ğŸ‘¥',
                    'å°å®è´': 'ğŸ‘¶',
                    'å¥³å­©': 'ğŸ‘§',
                    'å„¿ç«¥': 'ğŸ§’',
                    'ç”·å­©': 'ğŸ‘¦',
                    'å¥³äºº': 'ğŸ‘©',
                    'æˆäºº': 'ğŸ§‘',
                    'ç”·äºº': 'ğŸ‘¨',
                    'å¥³äºº: å·å‘': 'ğŸ‘©\u200dğŸ¦±',
                    'ç”·äºº: å·å‘': 'ğŸ‘¨\u200dğŸ¦±',
                    'å¥³äºº: çº¢å‘': 'ğŸ‘©\u200dğŸ¦°',
                    'ç”·äºº: çº¢å‘': 'ğŸ‘¨\u200dğŸ¦°',
                    'å¥³äººï¼šé‡‘è‰²çš„å¤´å‘': 'ğŸ‘±\u200dâ™€ï¸',
                    'é‡‘è‰²å¤´å‘çš„äºº': 'ğŸ‘±',
                    'å¥³äºº: ç™½å‘': 'ğŸ‘©\u200dğŸ¦³',
                    'ç”·äºº: ç™½å‘': 'ğŸ‘¨\u200dğŸ¦³',
                    'å¥³äºº: ç§ƒé¡¶': 'ğŸ‘©\u200dğŸ¦²',
                    'ç”·äºº: ç§ƒé¡¶': 'ğŸ‘¨\u200dğŸ¦²',
                    'æœ‰èƒ¡å­çš„äºº': 'ğŸ§”',
                    'è€å¥¶å¥¶': 'ğŸ‘µ',
                    'è€å¹´äºº': 'ğŸ§“',
                    'è€çˆ·çˆ·': 'ğŸ‘´',
                    'æˆ´ç“œçš®å¸½çš„äºº': 'ğŸ‘²',
                    'æˆ´å¤´å·¾çš„äºº': 'ğŸ‘³',
                    'å¥³äººæˆ´ç€å¤´å·¾': 'ğŸ‘³\u200dâ™€ï¸',
                    'å¸¦å¤´é¥°çš„å¥³äºº': 'ğŸ§•',
                    'è­¦å¯Ÿ': 'ğŸ‘®',
                    'å¥³è­¦å®˜': 'ğŸ‘®\u200dâ™€ï¸',
                    'å»ºç­‘å·¥äºº': 'ğŸ‘·',
                    'å¥³å»ºç­‘å·¥äºº': 'ğŸ‘·\u200dâ™€ï¸',
                    'å«å…µ': 'ğŸ’‚',
                    'å¥³è­¦å«': 'ğŸ’‚\u200dâ™€ï¸',
                    'ä¾¦æ¢': 'ğŸ•µ',
                    'å¥³ä¾¦æ¢': 'ğŸ•µï¸\u200dâ™€ï¸',
                    'å¥³å«ç”Ÿå·¥ä½œè€…': 'ğŸ‘©\u200dâš•ï¸',
                    'ç”·å­å¥åº·å·¥ä½œè€…': 'ğŸ‘¨\u200dâš•ï¸',
                    'å†œå¦‡': 'ğŸ‘©\u200dğŸŒ¾',
                    'å†œå¤«': 'ğŸ‘¨\u200dğŸŒ¾',
                    'å¥³å¨å¸ˆ': 'ğŸ‘©\u200dğŸ³',
                    'ç”·å¨å¸ˆ': 'ğŸ‘¨\u200dğŸ³',
                    'å¥³å­¦ç”Ÿ': 'ğŸ‘©\u200dğŸ“',
                    'ç”·å­¦ç”Ÿ': 'ğŸ‘¨\u200dğŸ“',
                    'å¥³æ­Œæ‰‹': 'ğŸ‘©\u200dğŸ¤',
                    'ç”·æ­Œæ‰‹': 'ğŸ‘¨\u200dğŸ¤',
                    'å¥³è€å¸ˆ': 'ğŸ‘©\u200dğŸ«',
                    'ç”·è€å¸ˆ': 'ğŸ‘¨\u200dğŸ«',
                    'å¥³å·¥äºº': 'ğŸ‘©\u200dğŸ­',
                    'ç”·å·¥äºº': 'ğŸ‘¨\u200dğŸ­',
                    'å¥³ç¨‹åºå‘˜': 'ğŸ‘©\u200dğŸ’»',
                    'ç”·ç¨‹åºå‘˜': 'ğŸ‘¨\u200dğŸ’»',
                    'å¥³ç™½é¢†': 'ğŸ‘©\u200dğŸ’¼',
                    'ç”·ç™½é¢†': 'ğŸ‘¨\u200dğŸ’¼',
                    'å¥³æŠ€å·¥': 'ğŸ‘©\u200dğŸ”§',
                    'ç”·æŠ€å·¥': 'ğŸ‘¨\u200dğŸ”§',
                    'å¥³ç§‘å­¦å®¶': 'ğŸ‘©\u200dğŸ”¬',
                },


                //è®¾ç½®å¸¸ç”¨è¡¨æƒ…
                emojiTail: '',
                //è®¾ç½®è¡¨æƒ…å›¾ç‰‡åœ°å€
                {#emojiPath: "https://cdn.jsdelivr.net/npm/vditor@3.9.1/dist/images/emoji",#}

            },
            //å­—æ•°ç»Ÿè®¡
            counter: {
                enable: true,
                //å›è°ƒ
                after(count) {
                    {#console.log('å­—æ•°ä¸º' + count);#}
                }
            },
            //é‡å®šä¹‰å¤§å°
            resize: {
                enable: false, //æ‰“å¼€
                position: 'bottom', //ä½ç½®
            },
            //ç¼“å­˜
            cache: {
                enable: false,
            },

            //æ˜¯å¦å±•ç¤ºå¤§çº²,æ‰‹æœºç«¯è‡ªåŠ¨éšè—å°±è¡Œäº†
            outline: {
                enable: true
            },
            // å·¥å…·æ é…ç½®æ˜¯å¦éšè—å’Œå›ºå®š
            toolbarConfig: {
                // æ˜¯å¦å›ºå®šå·¥å…·æ 
                pin: true,
            },

        });


    </script>

{% endblock %}

