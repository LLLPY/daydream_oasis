
<BlogInfo id="711" title="2.操作sqlite数据库插入一条数据" author="白日梦想猿" pv=0 read_times=0 pre_cost_time="0分23秒" category="数据库编程" tag_list="['数据库编程']" create_time="2020.07.09 14:06:47" update_time="2020.07.09 14:21:37" />

```python
#导入模块
import sqlite3

#创建连接
con=sqlite3.connect('C:/Users/LLL/Desktop/python/python基础(演练)/数据库编程/SQLite3数据库/demo1.db')

#创建游标对象
cur=con.cursor()
#编写插入sql语句
sql='insert into t_person(pname,age) values(?,?)'
try:#插入可能成功可能失败
    #执行sql插入一条数据
    cur.execute(sql,('张三',17))
    #提交事务
    con.commit()
    print('插入数据成功!')
except Exception as r:
    print(r)
    #事务回滚
    con.rollback()
    print('数据插入失败!')
finally:
    #关闭游标对象
    cur.close()
    #关闭数据库连接
    con.close()
```
