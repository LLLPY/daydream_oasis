
<BlogInfo id="817" title="3.预激协程的装饰器" author="白日梦想猿" pv=0 read_times=0 pre_cost_time="0分28秒" category="协程" tag_list="['协程']" create_time="2022.04.24 15:37:27" update_time="2022.04.27 08:52:22" />

```python
from functools import wraps
from inspect import getgeneratorstate


# 如果不预激，那么协程没什么用。
def coroutine(func):
    @wraps(func)
    def primer(*args, **kwargs):
        gen = func(*args, **kwargs)
        next(gen)
        return gen

    return primer


@coroutine
def my_coroutine():
    x = yield "hello world"
    print(f"received x:{x}")
    # y=yield x                                               55


if __name__ == '__main__':
    my_coro = my_coroutine()
    print(getgeneratorstate(my_coro))  # GEN_SUSPENDED：已暂停到yield的位置
    print(my_coro.send(100))



```
