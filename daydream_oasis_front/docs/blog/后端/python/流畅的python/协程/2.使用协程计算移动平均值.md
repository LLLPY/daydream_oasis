---

next: false

---



<BlogInfo id="816" title="2.使用协程计算移动平均值" author="白日梦想猿" pv=0 read_times=0 pre_cost_time="0分25秒" category="协程" tag_list="['协程']" create_time="2022.04.24 15:14:53" update_time="2022.04.27 09:15:55" />

```python
def averager():
    total = 0
    count = 0
    average = 0
    while True:
        term = yield average  # send()的值会传给term
        total += term
        count += 1
        average = total / count
        print(average)


if __name__ == '__main__':
    my_avg = averager()
    print(next(my_avg))  # 激活协程 可以看到协程产出的初始值是average的初始值为None

    cur_avg = my_avg.send(1)
    cur_avg = my_avg.send(2)
    # cur_avg=my_avg.send(3)
    # cur_avg=my_avg.send(4)
    # my_avg.close() #关闭协程
    # cur_avg=my_avg.send(5)

```



<ActionBox />
