
<BlogInfo title="别小瞧冒泡排序，优化一下不也挺快的嘛？" author="白日梦想猿" pv=0 read_times=0 pre_cost_time=43 category="排序算法" tag_list="['冒泡排序', '排序算法']" create_time="2022.04.27 18:49:34.548104" update_time="2022.04.27 18:49:34" />

^^^^^^^^^
<h1>&nbsp;基础版</h1>

<pre data-widget="codeSnippet">
<code class="hljs language-python"><span class="hljs-comment"># 冒泡排序</span>
<span class="hljs-keyword">def</span> <span class="function_ hljs-title">bubble_sort</span>(<span class="hljs-params">li</span>):
    li_len = <span class="hljs-built_in">len</span>(li)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(li_len - <span class="hljs-number">1</span>):
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, li_len):
            <span class="hljs-keyword">if</span> li[i] &gt; li[j]:  <span class="hljs-comment"># 只要当前数字比下一个大，就将它向上移动</span>
                li[i], li[j] = li[j], li[i]</code></pre>

<h1>优化版一</h1>

<blockquote>
<pre>
# 优化：是不是每一次都要比较到末尾？
&#39;&#39;&#39;
肯定不需要！
第一次冒泡后，最大的元素在最末尾
第二次冒泡后，第二大的元素在倒数第二
第三次冒泡后，第三大的元素在倒数第三
...

因此，可以依次类推，冒泡n次后，后面的n个元素都是有序的，所以不需要再进行额外的比较

</pre>
</blockquote>

<pre data-widget="codeSnippet">
<code class="hljs language-python">
<span class="hljs-keyword">def</span> <span class="function_ hljs-title">bubble_sort2</span>(<span class="hljs-params">li</span>):
    li_len = <span class="hljs-built_in">len</span>(li)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(li_len - <span class="hljs-number">1</span>):
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, li_len - i - <span class="hljs-number">1</span>):  <span class="hljs-comment"># 只对乱序的部分进行排序</span>
            <span class="hljs-keyword">if</span> li[j] &gt; li[j + <span class="hljs-number">1</span>]:  <span class="hljs-comment"># 只要当前数字比下一个大，就将它向上移动</span>
                li[j], li[j + <span class="hljs-number">1</span>] = li[j + <span class="hljs-number">1</span>], li[j]</code></pre>

<h1>再优化</h1>

<blockquote>
<pre>
# 再优化：当排到某一趟时，如果这一趟过程中所有的数字都没有发生交换，是不是就可以认为列表是已经排好序了？
&#39;&#39;&#39;
答案是肯定的！
&#39;&#39;&#39;
</pre>
</blockquote>

<pre data-widget="codeSnippet">
<code class="hljs language-python">
<span class="hljs-keyword">def</span> <span class="function_ hljs-title">bubble_sort3</span>(<span class="hljs-params">li</span>):
    li_len = <span class="hljs-built_in">len</span>(li)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(li_len - <span class="hljs-number">1</span>):
        exchanged = <span class="hljs-literal">False</span>
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, li_len - i - <span class="hljs-number">1</span>):  <span class="hljs-comment"># 只对乱序的部分进行排序</span>
            <span class="hljs-keyword">if</span> li[j] &gt; li[j + <span class="hljs-number">1</span>]:  <span class="hljs-comment"># 只要当前数字比下一个大，就将它向上移动</span>
                li[j], li[j + <span class="hljs-number">1</span>] = li[j + <span class="hljs-number">1</span>], li[j]
                <span class="hljs-comment"># 如果这一趟发生了交换，就将exchanged的值置位True</span>
                exchanged = <span class="hljs-literal">True</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> exchanged:
            <span class="hljs-keyword">break</span>  <span class="hljs-comment"># 如果这一趟没有发生交换，说明已经排好序！</span></code></pre>

<h1>最后看一下测试结果！</h1>

<p><img src="../media/image/2022/04/27/image-20220427184920-2.png" style="height:526px; width:900px" /></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

