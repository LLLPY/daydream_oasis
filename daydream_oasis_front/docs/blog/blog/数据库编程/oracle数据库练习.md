
<BlogInfo title="oracle数据库练习" author="白日梦想猿" pv=0 read_times=0 pre_cost_time=95 category="数据库编程" tag_list="['oracle', '数据库']" create_time="2021.09.22 09:35:51.408779" update_time="2021.09.29 09:34:44" />

^^^^^^^^^
<p data-we-empty-p="">//学生表<br>create table XSB(<br>学号 char(6) not null primary key,<br>姓名 char(8) not null,<br>性别 char(2) default '男' not null,<br>出生时间 date not null,<br>专业 char(12) null,<br>总学分 number(2) null,<br>备注 varchar2(200) null<br>);<br><br><br>//利用create table命令为XSXJ数据库建立KCB表<br>create table KCB(<br>课程号 char(3) not null primary key，<br>课程名　char(16) not null,<br>开课学期 number(1) null,<br>学时 number(2) null,<br>学分 number(1) not null<br>);<br><br>//查看表结构<br>desc KCB;<br><br>//利用create table命令为XSCJ数据库建立CJB表<br>create table CJB(<br>学号 char(6) not null,<br>课程号 char(3) not null,<br>成绩 number(2) null，<br>primary key(学号，课程号)<br><br>);<br><br>desc CJB;<br><br>//创建XSB表中祭计算机专业学生的记录备份表，表名为XS_JSJ<br>create table XS_JSJ as select * from XSB where 专业='计算机';<br><br><br>//使用alter table语句修改XSCJ数据库中的SX_JSJ表<br>(1)在XS_JSJ表中增加两列，奖学金等级和等级说明<br>alter table XS_JSJ add(<br>奖学金等级 number(1),<br>等级说明 varchar2(200) <br>);<br><br>(2)在XS_JSJ表中修改“等级说明”列的默认值<br>alter table XS_JSJ modify(等级说明 default '奖金800元');<br><br>(3)在XS_JSJ表中删除“奖学金等级”和“等级说明”列<br>alter table XS_JSJ drop column 奖学金等级;<br>alter table XS_JSJ drop column 等级说明;<br><br>(4)为XS_JSJ表添加主键<br>alter table XS_JSJ add(constraint "PK_JSJ"primary key(学号));<br><br>//删除表<br>drop table XS_JSJ;<br><br><br>//插入数据<br>desc XSB;<br>insert into XSB values('141114','周何俊','男',to_date('19980925','YYYYMMDD'),'计算机',90,null);<br><br><br>//向具有默认字段的表中插入数据<br>//创建一个具有默认字段的表test<br>create table test(<br>姓名 char(20) not null,<br>专业 varchar(30) default('计算机'),<br>年级 number not null<br>);<br><br>insert into test(姓名,年级) values('张三',3);<br><br>//利用insert语句还可以把一个表中的部分数据插入到另一个表中，但结果集中每行数据的字段数，字段的数据类型都要与被操作的表完全一致<br>create table xsb1 as select * from xsb where 1=2;<br>select * from xsb1;<br>insert into xsb1 select * from XSB;<br><br>//merge语句<br>//在oracle 11g数据库中有merge语句，用于根据与源表连接的结果，对目标表执行插入，更新或删除操作。<br>merge into &lt;目标表名&gt;<br> using &lt;源表名&gt; on (&lt;条件表达式&gt;)<br> where matched then {update set...|delete...}<br>where not matched then insert(...) values(...)<br><br>//using子句：用于指定更新的源数据表<br>//on子句：指定在源表与目标表进行连接时所遵循的条件<br><br>//创建表a，并将xsb表中的数据添加至该表中<br>create table a(<br>xh char(6) not null primary key,<br>xm char(8) not null,<br>xb char(2) not null,<br>cssj date not null,<br>zy char(12)  null,<br>zxf number(2) null,<br>bz varchar(200) null<br>);<br><br>merge into a<br>using xsb on (a.xh=xsb.学号)<br>where matched then update set a.xm=sxb.姓名,a.xb=sxb.性别,a.cssj=xsb.出生时间,a.zy=xsb.专业,a.zxf=xsb.总学分,a.bz=xsb.备注<br>where not matched then insert values(xsb.学号，sxb.性别,xsb.出生时间,xsb.专业,xsb.总学分,xsb.备注);<br><br><br><br><br><br><br><br></p>
