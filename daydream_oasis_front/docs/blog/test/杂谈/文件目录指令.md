
<BlogInfo title="文件目录指令" author="白日梦想猿" pv=0 read_times=0 pre_cost_time=286 category="杂谈" tag_list="['文件目录指令']" create_time="2021.08.14 17:42:12.556896" update_time="2021.08.14 17:42:12" />

^^^^^^^^^
<h1><span style="font-size: 24px; letter-spacing: 2px; word-spacing: 1px;">rm指令</span><br></h1><p><br></p><p> <strong>rm 指令移除【删除】文件或目录</strong></p><p><br></p><p>基本语法:</p><p><strong>rm	[选项]	要删除的文件或目录</strong></p><p><br></p><p>常用选项:</p><p><strong>-r ：递归删除整个文件夹</strong></p><p><strong>-f ： 强制删除不提示</strong></p><p><strong>-rf: 强制删除整个目录,不提示</strong></p><p><br></p><p><br></p><p><strong>如果只使用rm 不加选项，那么只能删除文件(.txt)</strong></p><p></p><hr><p></p><p><br></p><h2>mv指令</h2><p><br></p><p><strong>mv 移动文件与目录或重命名</strong></p><p><strong>• 基本语法</strong></p><p><strong>mv	oldNameFile newNameFile	(功能描述：重命名) </strong></p><p><strong>mv  /temp/movefile   /targetFolder (功能描述：移动文件)</strong></p><p>案例 1: 将 /home/aaa.txt  文件 重新命名为 pig.txt</p><p><br></p><p>案例 2:将  /home/pig.txt	文件 移动到 /root 目录下</p><p><br></p><p><br></p><h2>cat指令</h2><p><strong>cat 查看文件内容，是以只读的方式打开。</strong></p><p><strong>• 基本语法</strong></p><p><strong>cat	[选项] 要查看的文件</strong></p><p><strong>• 常用选项</strong></p><p><strong>-n ：显示行号</strong></p><p><br></p><p>案例 1:	/etc/profile	文件内容，并显示行号</p><p><br></p><p><br></p><p><strong>• 使用细节</strong></p><p><strong>cat 只能浏览文件，而不能修改文件，为了浏览方便，一般会带上	管道命令 | more</strong></p><p><strong>cat 文件名 | more [分页浏览]</strong></p><p><br></p><h2>more指令</h2><p><br></p><p>more 指令是一个基于 VI 编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容。more 指令中内置了若干快捷键，详见操作说明</p><p>• 基本语法</p><p>more 要查看的文件</p><p><br></p><p><strong>快捷键一栏</strong></p><p><br></p><p><br></p><h2>less指令</h2><p><br></p><p>less 指令用来<strong>分屏查看文件内容</strong>，它的功能与 more 指令类似，但是比 more 指令更加强大，支持各种显示终端。less 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率</p><p><br></p><p><strong>• 基本语法</strong></p><p><strong>less 要查看的文件</strong></p><p>案例: 采用 less 查看一个大文件文件 /opt/金庸-射雕英雄传 txt 精校版.txt</p><p><br></p><p><strong>快捷键</strong></p><p><br></p><p><br></p><p><br></p><h2>&gt;指令和&gt;&gt;指令</h2><p><br></p><p><strong>&gt; 输出重定向 : 会将原来的文件的内容覆盖,如果沒有对应的文件，会新建一个</strong></p><p><strong>&gt;&gt; 追加： 不会覆盖原来文件的内容，而是追加到文件的尾部。</strong></p><p><strong>• 基本语法</strong></p><p><strong>ls -l &gt;文件:功能描述：列表的内容写入文件 a.txt 中</strong></p><p><strong>如果a.txt不存在，那么会在当前目录下新建一个a.txt，如果存在也会新建一个覆盖原来的</strong></p><p><br></p><p> <strong>ls -l &gt;&gt;文件	（功能描述：列表的内容追加到文件 aa.txt 的末尾）</strong></p><p><strong>如果aa.txt不存在，那么还是会新建一个aa.txt，如果存在，那么会追加在末尾</strong></p><p><br></p><p><strong>cat 文件 1 &gt; 文件 2 （功能描述：将文件 1 的内容覆盖到文件 2）</strong></p><p><strong>如果文件2不存在，会新建一个</strong></p><p><br></p><p><strong>echo "内容" &gt;&gt; 文件 ：追加</strong></p><p><strong>echo "内容" &gt; 文件 ：覆盖</strong></p><p><br></p><p>案例: 将 /home 目录下的文件列表 写入到 /home/info.txt 中</p><p><br></p><p><br></p><h2>echo指令</h2><p><br></p><p><strong>echo 输出内容到控制台。</strong></p><p><strong>• 基本语法</strong></p><p><strong>echo	[选项]	[输出内容]</strong></p><p>案例: 使用 echo 指令输出环境变量,输出当前的环境路径</p><p><br></p><p><br></p><h2>head 指令</h2><p><br></p><p><strong>head 用于显示文件的开头部分内容，默认情况下 head 指令显示文件的前 10 行内容</strong></p><p><strong>• 基本语法</strong></p><p><strong>head  文件	(功能描述：查看文件头 10 行内容)</strong></p><p><strong>head -n 5 文件	(功能描述：查看文件头 5 行内容，5 可以是任意行数)</strong></p><p><br></p><p><br></p><p><br></p><p><br></p><h2>tail 指令</h2><p><strong>tail 用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。</strong></p><p><strong>• 基本语法</strong></p><ol><li><p>tail  文件  （查看文件后10行）</p></li><li><p>tail -n 5   文件  (查看文件后5行内容)</p></li><li><p><strong>tail -f  文件 (实时追踪文档的所有更新)</strong></p><p><br></p><p>查看/etc/profile  最后 5 行</p><p><br></p></li></ol><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><h2>ln 指令</h2><p><br></p><p><strong>软链接也叫符号链接，类似于 windows 里的快捷方式，主要存放了链接其他文件的路径</strong></p><p><strong>基本语法</strong></p><p><strong>ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接）</strong></p><p><br></p><p><strong>当我们cd到软链接文件的时候，其实就是到了/root文件</strong></p><p><strong>删除软连接 linkToRoot</strong></p><p><br></p><p><strong>• 细节说明</strong></p><p><strong>当我们使用 pwd 指令查看目录时，仍然看到的是软链接所在目录。</strong></p><p><br></p><h2><strong>history 指令</strong></h2><p>查看已经执行过历史命令,也可以执行历史指令</p><p>• 基本语法</p><p>history	（功能描述：查看已经执行过历史命令）</p><p>案例 1: 显示所有的历史命令</p><p><br></p><p>案例 2: 显示最近使用过的 10 个指令</p><p><br></p><p>案例3 ：执行历史指令</p><p><br></p><p><br></p><p><br></p><h1>时间日期类指令</h1><p><br></p><h2>date 指令-显示当前日期</h2><p><br></p><p><strong>• 基本语法</strong></p><p><strong>date	（功能描述：显示当前时间）</strong></p><p><strong>date+ %Y : 显示当前年份</strong></p><p><strong>date + %m :显示当前的月份</strong></p><p><strong>date + %d :显示当前是哪一天</strong></p><p><strong>date "+%Y-%m-%d %H:%M:%S" :显示年月日时分秒</strong></p><p>date "+%Y %m %d" :这里连接符可以用空格代替，也可以随便写，但是注意不要少了+号</p><p>案例 1: 显示当前时间信息</p><p><br></p><p><br></p><p>案例2：显示当前的年月日</p><p><br></p><p>案例 3: 显示当前时间年月日时分秒</p><p><br></p><p>连接符可以随便写</p><p><br></p><p><br></p><h2>date 指令-设置日期</h2><p><br></p><p>基本语法:</p><p>date -s 字符串时间</p><p>演示:</p><p>案例 1: 设置系统当前时间 ， 比如设置成 2018-10-10 11:22:22</p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><h2>cal 指令</h2><p><br></p><p>查看日历指令</p><p>• 基本语法</p><p><strong>cal [选项]	（功能描述：不加选项，显示本月日历）</strong></p><p><br></p><p><br></p><p><strong>显示2021年，一整年的日历</strong></p><p><br></p><p><br></p><p><br></p><h1>搜索查找类指令</h1><h2>find 指令</h2><p><br></p><p><strong>find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端</strong></p><p>• 基本语法</p><p><strong>find	[搜索范围]	[选项]</strong></p><p><br></p><p>选项说明:</p><p><br></p><p>案例 1: 按文件名：根据名称查找/home 目录下的 hello.txt 文件</p><p><br></p><p><strong>可以使用通配符</strong></p><p>案例 2：按拥有者：查找/opt 目录下，用户名称为 nobody 的文件</p><p><br></p><p>案例 3：查找整个 linux 系统下大于 20m 的文件（+n  大于	-n 小于	n 等于）</p><p><br></p><p>1m = 1024k</p><p><br></p><p>查询	/ 目录下，所有 .txt 的文件</p><p><br></p><p><br></p><p><br></p><p><br></p><h2>locate 指令</h2><p><br></p><p>locate 指令可以快速定位文件路径。locate 指令利用事先建立的系统中所有文件名称及路径的locate 数据库实现快速定位给定的文件。Locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新 locate 时刻</p><p><br></p><p>• 基本语法</p><p><strong>locate 搜索文件</strong></p><p>• 特别说明</p><p><strong>由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。</strong></p><p>案例 1: 请使用 locate 指令快速定位 hello.txt 文件所在目录</p><p><br></p><p><br></p><p><br></p><h2>grep 指令和 管道符号 |</h2><p><br></p><p><br></p><p>grep 过滤查找 ， 管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。</p><p>• 基本语法</p><p><strong>grep [选项] 查找内容 源文件</strong></p><p><br></p><p><strong>常用选项</strong></p><p><br></p><p>案例 1: 请在  hello.txt  文件中，查找	"yes"	所在行，并且显示行号</p><p><br></p><p><strong>| ：将前面查找出来的数据交给后的指令去执行</strong></p><p><br></p><p><br></p><p><br></p><h1>压缩和解压缩的相关指令</h1><h2>gzip/gunzip 指令</h2><p><br></p><p><strong>gzip 用于压缩文件， gunzip  用于解压的</strong></p><p><br></p><p>• 基本语法</p><p><strong>gzip 文件	（功能描述：压缩文件，只能将文件压缩为*.gz 文件）</strong></p><p><strong>gunzip 文 件.gz	（功能描述：解压缩文件命令）</strong></p><p><br></p><p>案例 1: gzip 压缩， 将 /home 下的 hello.txt 文件进行压缩</p><p><br></p><p><strong>细节说明</strong></p><p><strong>当我们使用 gzip  对文件进行压缩后，不会保留原来的文件</strong></p><p>案例 2: gunzip 解压缩， 将 /home 下的 hello.txt.gz 文件进行解压缩</p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><h2>zip/unzip 指令</h2><p><br></p><p><strong>zip 用于压缩文件， unzip 用于解压的，这个在项目打包发布中很有用的</strong></p><p><br></p><p>• 基本语法</p><p>zip	[选项] XXX.zip	将要压缩的内容（功能描述：压缩文件和目录的命令）</p><p>unzip	[选项] XXX.zip （功能描述：解压缩文件）</p><p><br></p><p>• zip 常用选项</p><p>-r：递归压缩，即压缩目录</p><p>• unzip 的常用选项</p><p>-d&lt;目录&gt; ：指定解压后文件的存放目录</p><p><br></p><p>案例 1:	将 /home 下的 所有文件进行压缩成 mypackage.zip</p><p><br></p><p><br></p><p>案例 2:	将 mypackge.zip 解压到 /opt/tmp 目录下</p><p><br></p><p><br></p><h2>tar 指令</h2><p><br></p><p><strong>tar 指令 是打包指令，最后打包后的文件是 .tar.gz 的文件。</strong></p><p>• 基本语法</p><p><strong>tar	[选项]	XXX.tar.gz	打包的内容	(功能描述：打包目录，压缩后的文件格式.tar.gz)</strong></p><p>• 选项说明</p><p><br></p><p>案例 1:	压缩多个文件，将  /home/a1.txt 和  /home/a2.txt 压缩成	a.tar.gz</p><p><br></p><p>案例 2:	将/home 的目录(文件夹)压缩成 myhome.tar.gz</p><p><br></p><p><br></p><p>案例 3:	将  a.tar.gz	解压到当前目录</p><p><br></p><p>案 例 4: 将 myhome.tar.gz	解压到 /opt/ 目录下</p><p><br></p><p><strong>指定解压到的那个目录，事先要存在才能成功，否则会报错。</strong></p><p> -C作用: 解压到指定目录，否则会在当前目录下也解压</p><p><br></p><h1>组管理和权限管理</h1><p> </p><h2>Linux 组基本介绍</h2><p>在 linux 中的每个用户必须属于一个组，不能独立于组外。在 linux 中每个文件有所有者、所在组、其它组的概念。</p><p>1) 所有者</p><p>2) 所在组</p><p>3) 其它组</p><p>4) 改变用户所在的组</p><p><br></p><h2>文件/目录 所有者</h2><p>一般为文件的创建者,谁创建了该文件，就自然的成为该文件的所有者</p><h3>查看文件的所有者</h3><p><br></p><p>1) <strong>指令：ls	-ahl</strong></p><p>2) 应用实例：创建一个组 police,再创建一个用户 tom,将 tom 放在 police 组 ,然后使用 tom 来创建一个文件 ok.txt，看看情况如何</p><pre> ![image-20210814161613383](C:UserszdhAppDataRoamingTypora	ypora-user-imagesimage-20210814161613383.png)</pre><p><br></p><h3>修改文件所有者</h3><p>• 指令：<strong>chown 用户名 文件名</strong></p><p>• 应用案例</p><p><strong>要求：使用 root  创建一个文件 apple.txt ，然后将其所有者修改成 tom</strong></p><p><br></p><p><strong>文件所有者改变，组不改变</strong></p><p></p><hr><p></p><h2>组的创建</h2><p><br></p><h3><strong>基本指令</strong></h3><p><strong>groupadd  组名</strong></p><p>演示:</p><p>创建一个组, monster</p><p>创建一个用户  fox  ，并放入到monster 组中</p><p><br></p><h3>文件/目录 所在组</h3><p><br></p><p>当某个用户创建了一个文件后，<strong>默认</strong>这个文件的所在组就是该用户所在的组</p><p><br></p><h4>查看文件/目录所在组</h4><p>• 基本指令</p><p>ls –ahl</p><h4>修改文件所在的组</h4><p>• 基本指令</p><p><strong>chgrp 组名 文件名</strong></p><p>• 应用实例</p><p>使用 root 用户创建文件 orange.txt ,看看当前这个文件属于哪个组，然后将这个文件所在组，修改到 police 组</p><p><br></p><h4>其它组</h4><p>除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组</p><h4>改变用户所在组</h4><p>在添加用户时，可以指定将该用户添加到哪个组中，同样的用 root 的管理权限可以改变某个用户所在的组。</p><p>1) usermod	–g	组名	用户名</p><p>2) usermod	–d	目录名	用户名	改变该用户登陆的初始目录。</p><p>   <strong>应用实例</strong></p><p>   创建一个土匪组（bandit）将 tom  这个用户从原来所在的 police 组，修改到 bandit(土匪) 组</p><p>   </p><p><br></p><p><br></p><p></p><hr><p></p><p><br></p><h2>权限管理</h2><p><br></p><p><br></p><p>ls	-l 中显示的内容如下：</p><p><strong>-rwxrw-r--</strong> 1 root root 1213 Feb 2 09:39 abc</p><p><strong>0-9 位说明</strong></p><p><strong>1)第 0 位确定文件类型(d, - , l , c , b)</strong></p><p><strong>2)第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。---User</strong></p><p><strong>3)第 4-6 位确定所属组（同用户组的）拥有该文件的权限，---Group</strong></p><p><strong>4)第 7-9 位确定其他用户拥有该文件的权限 ---Other</strong></p><h3>rwx 权限详解</h3><h4>rwx 作用到文件</h4><p>1) [ r ]代表可读(read):  可以读取,查看</p><p>2) [ w ]代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.</p><p>3) [ x ]代表可执行(execute):可以被执行</p><h4>rwx 作用到目录</h4><p>1) [ r ]代表可读(read):  可以读取，ls 查看目录内容</p><p>2) [ w ]代表可写(write):  可以修改,目录内创建+删除+重命名目录</p><p>3) [ x ]代表可执行(execute):可以进入该目录</p><p></p><hr><p></p><h4>文件及目录权限实际案例</h4><p><strong>ls	-l 中显示的内容如下：(记住)</strong></p><p><strong>-rwxrw-r-- 1 root root 1213 Feb 2 09:39 abc</strong></p><p><strong>10 个字符确定不同用户能对文件干什么</strong></p><p><strong>第一个字符代表文件类型： 文件 (-),目录(d),链接(l)</strong></p><p><strong>其余字符每 3 个一组(rwx) 读(r) 写(w) 执行(x) 第一组 rwx : 文件拥有者的权限是读、写和执行</strong></p><p><strong>第二组 rw- :  与文件拥有者同一组的用户的权限是读、写但不能执行</strong></p><p><strong>第三组 r-- :	不与文件拥有者同组的其他用户的权限是读不能写和执行</strong></p><p><strong>可用数字表示为: r=4,w=2,x=1  因此 rwx=4+2+1=7</strong></p><p><strong>1	文件：硬连接数或	目录：子目录数</strong></p><p><strong>root	用户</strong></p><p><strong>root	组</strong></p><p><strong>1213	文件大小(字节)，如果是文件夹，显示 4096 字节,文件夹(目录)也是一种特殊的文件，也需要占据空间</strong></p><p><strong>Feb 2 09:39	最后修改日期</strong></p><p><strong>abc	文件名</strong></p><p></p><hr><p></p><p><br></p><h3>修改权限-chmod</h3><p><br></p><p>基本说明：</p><p>通过 chmod 指令，可以修改文件或者目录的权限</p><p></p><hr><p></p><h4>第一种方式：+ 、-、=  变更权限</h4><p><strong>u:所有者(当前文件或者目录的拥有者)	g:所有组(所在组的其他用户)	o:其他人(其他组的用户)	a:所有人(u、g、o 的总和)</strong></p><p>1) <strong>chmod	u=rwx,g=rx,o=x	文件目录名 ： 分别规定所有者，所有组，其他人的各自权限</strong></p><p>2) <strong>chmod	o+w	文件目录名 ：给其他人增加一个写的权限</strong></p><p>3) ch<strong>mod	a-x	文件目录名 ：给所有人减去一个执行的权限</strong></p><p><br></p><p></p><hr><p></p><p><br></p><p>• 案例演示</p><p>1.给 abc 文件 的所有者读写执行的权限，给所在组读执行权限，给其它组读执行权限</p><p><br></p><p><br></p><p>2 .给 abc 文件的所有者除去执行的权限，增加组写的权限</p><p><br></p><p>3 .给 abc 文件的所有用户添加读的权限</p><p><br></p><p></p><hr><p></p><p><br></p><h4>第二种方式：通过数字变更权限</h4><p><strong>规则：r=4 w=2 x=1</strong>		</p><p><strong>rwx=4+2+1=7</strong></p><p><strong>chmod u=rwx,g=rx,o=x</strong>			</p><p><strong>文件目录名相当于  chmod	751 文件目录名</strong></p><p>• 案例演示</p><p><strong>要求：将  /home/abc.txt 文件的权限修改成	rwxr-xr-x, 使用给数字的方式实现：</strong></p><p><strong>rwx = 4+2+1 = 7</strong></p><p><strong>r-x = 4+1=5</strong></p><p><strong>r-x = 4+1 =5</strong></p><p><strong>指令：chmod 755 /home/abc.txt</strong></p><p></p><hr><p></p><h3>修改文件所有者-chown</h3><p>基本介绍</p><p><strong>chown	newowner	file	改变文件的所有者</strong></p><p><strong>chown newowner:newgroup	file	改变用户的所有者和所有组</strong></p><p><strong>-R	如果是目录 则使其下所有子文件或目录递归生效</strong></p><p></p><hr><p></p><p>案例演示：</p><p>1 .请将 /home/abc .txt 文件的所有者修改成 tom</p><p><br></p><p><br></p><p>2 .请将 /home/kkk 目录下所有的文件和目录的所有者都修改成 tom</p><p>首选我们应该使用 root 操作。</p><p><br></p><p><br></p><p></p><hr><p></p><h3>修改文件所在组-chgrp</h3><p>基本介绍</p><p><strong>chgrp newgroup file	改变文件的所有组</strong></p><p>案例演示：</p><p>1 .请将 /home/abc .txt <strong>文件的所在组</strong>修改成 bandit (土匪) </p><p>chgrp bandit /home/abc.txt</p><p><br></p><p>2 . 请将 /home/kkk <strong>目录下所有的文件和目录</strong>的所在组都修改成 bandit(土匪) </p><p>chgrp -R bandit /home/kkk</p><p><br></p><p></p><hr><p data-we-empty-p=""><br></p><p></p>
